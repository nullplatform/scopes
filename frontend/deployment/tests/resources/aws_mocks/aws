#!/bin/bash
# Mock aws CLI for testing
# Set AWS_MOCK_RESPONSE to the path of the mock file to return
# Set AWS_MOCK_EXIT_CODE to the exit code (default: 0)

if [ -z "$AWS_MOCK_RESPONSE" ]; then
  echo "AWS_MOCK_RESPONSE not set" >&2
  exit 1
fi

if [ -f "$AWS_MOCK_RESPONSE" ]; then
  cat "$AWS_MOCK_RESPONSE"
else
  echo "Mock file not found: $AWS_MOCK_RESPONSE" >&2
  exit 1
fi

exit "${AWS_MOCK_EXIT_CODE:-0}"
