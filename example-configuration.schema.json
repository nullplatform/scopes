{"type": "object", "title": "Amazon Elastic Kubernetes Service (EKS) configuration", "groups": ["cluster", "resource_management", "security", "balancer"], "required": ["cluster"], "properties": {"cluster": {"type": "object", "order": 1, "title": "EKS cluster settings", "required": ["id"], "properties": {"id": {"tag": true, "type": "string", "order": 1, "title": "Cluster Name", "pattern": "^[a-zA-Z0-9]([a-zA-Z0-9-]{0,98}[a-zA-Z0-9])?$", "examples": ["my-cluster"], "maxLength": 100, "description": "The name of the Amazon EKS cluster (e.g., \"my-cluster\"). Cluster names must be unique within your AWS account and region"}, "namespace": {"type": "string", "order": 2, "title": "Kubernetes Namespace", "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$", "examples": ["my-namespace"], "maxLength": 63, "description": "The Kubernetes namespace within the EKS cluster where the application is deployed (e.g.,\"my-namespace\"). Namespace names must be DNS labels"}, "use_nullplatform_namespace": {"type": "boolean", "order": 3, "title": "Use nullplatform Namespace", "description": "When enabled, uses the nullplatform system namespace instead of a custom namespace"}}, "description": "Settings specific to the EKS cluster."}, "network": {"type": "object", "order": 4, "title": "Network", "properties": {"balancer_group_suffix": {"type": "string", "order": 1, "title": "ALB Name Suffix", "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$", "examples": ["my-suffix"], "maxLength": 63, "description": "When set, this suffix is added to the Application Load Balancer name, enabling management across multiple clusters in the same account or exceeding AWS ALB limit."}}, "description": "Network-related configurations, including load balancer configurations"}, "balancer": {"type": "object", "order": 5, "title": "Load Balancer Configuration", "properties": {"public_name": {"type": "string", "order": 1, "title": "Public Name", "pattern": "^[a-zA-Z0-9]([a-zA-Z0-9-]{0,98}[a-zA-Z0-9])?$", "examples": ["my-public-balancer"], "maxLength": 100, "description": "The name of the public-facing load balancer for external traffic routing"}, "private_name": {"type": "string", "order": 2, "title": "Private Name", "pattern": "^[a-zA-Z0-9]([a-zA-Z0-9-]{0,98}[a-zA-Z0-9])?$", "examples": ["my-private-balancer"], "maxLength": 100, "description": "The name of the private load balancer for internal traffic routing"}}, "description": "Load balancer configurations for public and private traffic routing"}, "security": {"type": "object", "order": 4, "title": "Security", "properties": {"image_pull_secrets": {"type": "array", "items": {"type": "string", "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$", "examples": ["image-pull-secret-nullplatform"]}, "order": 4, "title": "List of secret names to use image pull secrets", "description": "Image pull secrets store Docker credentials in EKS clusters, enabling secure access to private container images for seamless Kubernetes application deployment."}, "service_account_name": {"type": "string", "title": "Service Account Name", "examples": ["my-service-account"], "description": "The name of the Kubernetes service account used for deployments."}}, "description": "Security-related configurations, including service accounts and other Kubernetes security elements"}, "traffic_manager": {"type": "object", "order": 6, "title": "Traffic Manager Settings", "properties": {"version": {"type": "string", "order": 1, "title": "Traffic Manager Version", "default": "latest", "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$", "examples": ["latest", "beta"], "maxLength": 63, "description": "Uses 'latest' by default, but you can specify a different tag for the traffic container"}}, "description": "Traffic manager sidecar container settings"}, "object_modifiers": {"type": "object", "title": "Object Modifiers", "visible": false, "required": ["modifiers"], "properties": {"modifiers": {"type": "array", "items": {"if": {"properties": {"action": {"enum": ["add", "update"]}}}, "then": {"required": ["value"]}, "type": "object", "required": ["selector", "action", "type"], "properties": {"type": {"enum": ["deployment", "service", "hpa", "ingress", "secret"], "type": "string"}, "value": {"type": "string"}, "action": {"enum": ["add", "remove", "update"], "type": "string"}, "selector": {"type": "string", "description": "a selector to match the object to be modified, It's a json path to the object"}}, "description": "A single modification to a k8s object"}}}, "description": "An object {modifiers:[]} to dynamically modify k8s objects"}, "web_pool_provider": {"type": "string", "const": "AWS:WEB_POOL:EKS", "order": 3, "title": "Web Pool Provider", "default": "AWS:WEB_POOL:EKS", "visible": false, "examples": ["AWS:WEB_POOL:EKS"], "description": "The provider for the EKS web pool (fixed value)"}, "resource_management": {"type": "object", "order": 2, "title": "Resource Management", "properties": {"max_milicores": {"type": "string", "order": 4, "title": "Max Mili-Cores", "description": "Sets the maximum amount of CPU mili cores a pod can use. It caps the `maxCoreMultiplier` value when it is set"}, "memory_cpu_ratio": {"type": "string", "order": 1, "title": "Memory-CPU Ratio", "description": "Amount of MiB of ram per CPU. Default value is `2048`, it means 1 core for every 2 GiB of RAM"}, "max_cores_multiplier": {"type": "string", "order": 3, "title": "Max Cores Multiplier", "description": "Sets the ratio between requested and limit CPU. Default value is `3`, must be a number greater than or equal to 1"}, "memory_request_to_limit_ratio": {"type": "string", "order": 2, "title": "Memory Request to Limit Ratio", "description": "Sets the ratio between requested and limit memory. Default value is `1`, must be a number greater than or equal to 1"}}, "description": "Kubernetes resource allocation and limit settings for containerized applications"}}, "description": "Defines the configuration for Amazon Elastic Kubernetes Service (EKS) settings in the application, including cluster settings and Kubernetes specifics", "additionalProperties": false}